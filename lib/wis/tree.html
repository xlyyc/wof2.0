<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>wis</title>

    <link href="../jquery.ztree/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" type="text/css"/>

	

    <script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="lib/json2.js"></script>
    <script type="text/javascript" src="lib/fixConsole.js"></script>
    <script type="text/javascript" src="src/wis/kernel/initNamespace.js"></script>

    <script type="text/javascript" src="src/wis/util/Hashtable.js"></script>
    <script type="text/javascript" src="src/wis/util/ObjectManager.js"></script>
    <script type="text/javascript" src="src/wis/util/Observer.js"></script>
    <script type="text/javascript" src="src/wis/util/ArrayList.js"></script>
    <script type="text/javascript" src="src/wis/util/Selector.js"></script>
    <script type="text/javascript" src="src/wis/util/SelectorList.js"></script>
    <script type="text/javascript" src="src/wis/util/GlobalObject.js"></script>
    <script type="text/javascript" src="src/wis/util/Tool.js"></script>

	
  	<script type="text/javascript" src="../jquery.ztree/js/jquery.ztree.core-3.5.js"></script>
  	<script type="text/javascript" src="../jquery.ztree/js/jquery.ztree.excheck-3.5.js"></script>
  	<script type="text/javascript" src="../jquery.ztree/js/jquery.ztree.exedit-3.5.js"></script>
  	<script type="text/javascript" src="../jquery.ztree/js/jquery.ztree.exhide-3.5.js"></script>

    <script type="text/javascript" src="src/wis/widget/Tree.js"></script>

    <script type="text/javascript" src="src/wis/kernel/initSystem.js"></script>
    <script type="text/javascript">

        var tree = null;
        function create(){
        	var nodes = [
                {
                    "id":"0","name":"表头构件","nocheck":true,
                    "children":[
                        {
                            "id":"544F0803C08F4A868615C3B84C005E84",
                            "nodeType":"voucherComponent",
                            "name":"未命名表头"
                        },
                        {
                            "id":"544F0803C08F4A868615C3B84C005E84",
                            "nodeType":"voucherComponent",
                            "name":"未命名表头"
                        }
                    ]
                },
                {
                    "id":"1",
                    "name":"列表构件",
                    "nocheck":true,
                    "children":[]
                },
                {
                    "id":"1",
                    "name":"表体列表构件",
                    "nocheck":true,
                    "children":[]
                },
                {
                    "id":"1",
                    "name":"搜索构件",
                    "nocheck":true,
                    "children":[]
                }
            ];
        	
    		tree = wis$.create('Tree');
            tree.setRadioType('all');
            tree.setChkStyle('radio');
            tree.setNodes(nodes);
            tree.onClick(function(obj){alert(JSON.stringify(obj));});
            tree.onCheck(function(obj){alert(JSON.stringify(obj));});
            tree.onUnCheck(function(obj){alert(JSON.stringify(obj));});
            tree.render();

            var container = jQuery('#container');
            tree.appendTo(container);
            tree.render();
        }

        function clone() {
            var newTree = tree.clone();
            var container = jQuery('#container');
            newTree.appendTo(container);
            newTree.setTop(400);
            newTree.render();
        }

        function getClassName() {
            alert(tree.getClassName());
        }

        function getData() {
            alert(tree.toJSON());
        }

        function getId() {
            alert(tree.getId());
        }

        function removeTree() {
            tree.remove(true); //true表示删除 默认 false表示弱引用删除
        }

        function hidenTree() {
            if (tree.getHiden() == false) {
                tree.setHiden(true);
            } else {
                tree.setHiden(false);
            }
        }

        function getObjectById() {
            var id = tree.getId();
            var t = wis$.find('#' + id).get(0);
            alert('查找到对象:' + JSON.stringify(t.getData()));
        }
    </script>
</head>
<body>
<input type="button" value="创建对象" onclick="create();">
<input type="button" value="克隆对象" onclick="clone();">
<input type="button" value="查看对象类名" onclick="getClassName();">
<input type="button" value="查看对象数据" onclick="getData();">
<input type="button" value="查看对象id" onclick="getId();">
<input type="button" value="移除对象" onclick="removeTree();">
<input type="button" value="隐藏\显示对象" onclick="hidenTree();">
<input type="button" value="根据id获得对象" onclick="getObjectById();">
<br/>

<div id="container" style="position:absolute;width:400px;height:300px;top:50px;left:0px;"></div>
</body>
</html>
